{% extends 'base.html' %}

{% block head %}
<title>Solar Predictor</title>
{% endblock %}

{% block body %}
<h1 style="font-family: fantasy; line-height: 3pt; font-size: xxx-large;">DC Solar Power Generation Predictor</h1>

<div class='content'>
    <h3> Enter parameter values:</h3>
    <form action="/{{ambient}}/{{module}}/{{irradiation}}" method="POST">
        <input name="ambient" id="ambient" type="range" min="0" max="45" value="{{ambient}}" class="slider">
        <br><text>Ambient Temperature: <span id="ambval"></span> &#8451</text><br><br>
        <input name="module" id="module" type="range" min="0" max="50" value="{{module}}" class="slider">
        <br><text>Module Temperature: <span id="modval"></span> &#8451</text><br><br>
        <input name="irradiation" id="irradiation" type="range" min="0" max="1.3" value="{{irradiation}}" class="slider" step=0.01>
        <br><text>Irradiation: <span id="irrval"></span></text><br><br>
        <input type="submit" value="Submit">
    </form>
    <hr>
    <h2 style="color: red; line-height: 10pt;">Prediction</h2>
    <h1 style="color: red; font-size: 80pt; line-height: 5pt; font-family: fantasy;">{{ prediction }} kW</h1>
    <table>
        <tr>
            <th> Ambient Temperature </th>
            <th> Module Temperature </th>
            <th> Irradiation </th>
        </tr>
        <tr>
            <th>{{ ambient }} &#8451;</th>
            <th>{{ module }} &#8451;</th>
            <th>{{ irradiation }} </th>
        </tr>
    </table>
</div> 

<script>
    var slider1 = document.getElementById("ambient");
    var output1 = document.getElementById("ambval");
    output1.innerHTML = slider1.value;
    
    slider1.oninput = function() {
      output1.innerHTML = this.value;
    }
    

    var slider2 = document.getElementById("module");
    var output2 = document.getElementById("modval");
    output2.innerHTML = slider2.value;
    
    slider2.oninput = function() {
      output2.innerHTML = this.value;
    }
    

    var slider3 = document.getElementById("irradiation");
    var output3 = document.getElementById("irrval");
    output3.innerHTML = slider3.value;
    
    slider3.oninput = function() {
      output3.innerHTML = this.value;
    }
</script>
{% endblock %}